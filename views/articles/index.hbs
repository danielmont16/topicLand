{{!-- <h1></h1> --}}

{{! Add links to CRUD operations }}

<section class="section-container">
  <div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6">
    <div class="mx-auto max-w-screen-sm text-center lg:mb-16 mb-8">
      <h2
        class="mb-4 text-3xl lg:text-4xl tracking-tight font-extrabold text-white"
      >{{title}}</h2>
      <p class="mb-4 font-light text-gray-400 sm:text-xl dark:text-gray-400">Find all the articles here.</p>
        {{#if user}}
      <a href="/articles/add">
        <button
          type="button"
          class="create-new-btn py-2 text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500 dark:focus:ring-blue-800"
        >Create New</button>
      </a>
      {{/if}}
    </div>
    <div class="grid gap-8 lg:grid-cols-2">
      {{! Articles  }}
      {{#each dataset}}
        <article
          class="article-card p-6 rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700"
        >
          <div class="flex justify-between items-center mb-5 text-gray-500">
            <span
              class="text-white text-primary-800 text-xs font-medium inline-flex items-center px-2.5 py-0.5 rounded dark:bg-primary-200 dark:text-primary-800"
            >
              <svg
                class="mr-1 w-3 h-3"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              ><path
                  d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"
                ></path></svg>
              {{this.topic}}
            </span>
            <span class="text-sm">{{toShortDate this.creationDate}}</span>
          </div>
          <h2
            class="mb-2 text-2xl font-bold tracking-tight text-white dark:text-white"
          ><a href="#">{{this.title}}</a></h2>
          <p
            class="mb-5 font-light text-gray-400 dark:text-gray-400"
          >{{this.content}}</p>
          <div class="flex justify-between items-center">
            <div class="flex items-center space-x-4">
              <span class="font-medium text-white">
                {{this.author}}
              </span>
            </div>
            {{#if ../user}}
            <div class="crud-buttons">
              <a href="/articles/edit/{{this._id}}" class="btn btn-light font-medium">
               Edit
              </a>

              <a
                href="/articles/delete/{{this._id}}"
                onclick="return confirmDeletion()"
                class="btn btn-danger custom-delete-button inline-flex items-center font-medium text-primary-600 dark:text-primary-500"
              >
                Delete  
                <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

                <!-- Uploaded to: SVG Repo, www.svgrepo.com, Transformed by: SVG Repo Mixer Tools -->
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" >

                <g id="SVGRepo_bgCarrier" stroke-width="0"/>

                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>

                <g id="SVGRepo_iconCarrier"> <path d="M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6M18 6V16.2C18 17.8802 18 18.7202 17.673 19.362C17.3854 19.9265 16.9265 20.3854 16.362 20.673C15.7202 21 14.8802 21 13.2 21H10.8C9.11984 21 8.27976 21 7.63803 20.673C7.07354 20.3854 6.6146 19.9265 6.32698 19.362C6 18.7202 6 17.8802 6 16.2V6M14 10V17M10 10V17" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </g>

                </svg>
              </a>
            </div>
            {{/if}}
          </div>
        </article>
      {{/each}}
    </div>
  </div>
</section>